%%info_test_name{ch.banana.nl.app.vat.declaration.report.test}
\documentclass{report}
\usepackage{longtable}
\usepackage{color}
\usepackage{listings}
\usepackage[margin=1cm]{geometry}
\begin{document}
\newenvironment{tablevalue}[2]{\textbf{Table: #1}\begin{longtable}[l]{#2}}{\end{longtable}}
\newenvironment{reportvalue}[1]{\textbf{Report: #1}\\}{}
\lstnewenvironment{jsonvalue}[1]{\textbf{Json: #1}\lstset{language=Java}}{}
\lstnewenvironment{xmlvalue}[1]{\textbf{Xml: #1}\lstset{language=Xml}}{}
\newcommand{\info}[2]{\textit{#1: #2}\\}
\newcommand{\fatalerror}[1]{\textbf{\textcolor[rgb]{1,0,0}{Fatal error: #1}}\\}
\newcommand{\keyvalue}[2]{\textbf{Keyvalue: #1} #2\\}
\newcommand{\textvalue}[1]{#1\\}
\newcommand{\excltest}[1]{\\Excluded from compare: #1}
\newcommand{\lognewpage}{\newpage}
\newenvironment{testcase}[1]{\section*{Test: #1}}{\newpage}
\newenvironment{test}[1]{\section*{Test case: #1}}{}
%Begin test data
%%SCRIPT{C:/P/Netherlands/VAT/VatReport/./test/ch.banana.nl.app.vat.declaration.report.test.js}
%
\begin{testcase}{VatDeclarationReportTest}
\begin{test}{testReport}
%Test vatreport_declaration
\subsection{Whole year report}
\begin{reportvalue}{Whole year report}
Bedrijf XXX \\
1019, Amsterdam \\
NL123456789B01. \\
\begin{longtable}[l]{ l  l  l }
Omzetbelasting, Aangifteperiode: 01.01.2021/31.12.2021 \multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 1: Prestaties binnenland }\\
 & Omzet  & Omzetbelasting \\
1a. Leveringen/diensten belast met hoog tarief  & 81'436  & 17'101 \\
1b. Leveringen/diensten belast met laag tarief  & 3'376  & 303 \\
1c. Leveringen/diensten belast met overige tarieven, behalve 0\%  &  & \\
1d. Privégebruik  &  & \\
1e. Leveringen/diensten belast met 0\% of niet bij u belast  & 2'000  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 2: Verleggingsregelingen }\\
 & Omzet  & Omzetbelasting \\
2a. Leveringen/diensten waarbij de omzetbelasting naar u is verlegd  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 3: Prestaties naar of in het buitenland }\\
 & Omzet  & Omzetbelasting \\
3a. Leveringen naar landen buiten de EU (uitvoer)  &  & \\
3b. Leveringen naar of diensten in landen binnen de EU  &  & \\
3c. Installatie/ afstandsverkopen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 4: Prestaties vanuit het buitenland aan u verricht }\\
 & Omzet  & Omzetbelasting \\
4a. Leveringen/diensten uit landen buiten de EU  &  & \\
4b. Leveringen/diensten uit landen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 5: Voorbelasting, kleineondernemersregeling en eindtotaal }\\
 & Omzet  & Omzetbelasting \\
5a. Verschuldigde omzetbelasting (rubrieken 1t/m 4)  &  & 17'404 \\
5b. Voorbelasting  &  & 1'770 \\
\multicolumn{3}{l}{}\\
Eindtotaal  &  & 15'634 \\
\end{longtable}
Eindtotaal(accounting value): 15'634.69 \\
Rounding difference: 0.69 \\
\end{reportvalue}
\subsection{First semester report}
\begin{reportvalue}{First semester report}
Bedrijf XXX \\
1019, Amsterdam \\
NL123456789B01. \\
\begin{longtable}[l]{ l  l  l }
Omzetbelasting, Aangifteperiode: 01.01.2021/30.06.2021 \multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 1: Prestaties binnenland }\\
 & Omzet  & Omzetbelasting \\
1a. Leveringen/diensten belast met hoog tarief  & 39'873  & 8'373 \\
1b. Leveringen/diensten belast met laag tarief  & 1'834  & 165 \\
1c. Leveringen/diensten belast met overige tarieven, behalve 0\%  &  & \\
1d. Privégebruik  &  & \\
1e. Leveringen/diensten belast met 0\% of niet bij u belast  & 2'000  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 2: Verleggingsregelingen }\\
 & Omzet  & Omzetbelasting \\
2a. Leveringen/diensten waarbij de omzetbelasting naar u is verlegd  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 3: Prestaties naar of in het buitenland }\\
 & Omzet  & Omzetbelasting \\
3a. Leveringen naar landen buiten de EU (uitvoer)  &  & \\
3b. Leveringen naar of diensten in landen binnen de EU  &  & \\
3c. Installatie/ afstandsverkopen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 4: Prestaties vanuit het buitenland aan u verricht }\\
 & Omzet  & Omzetbelasting \\
4a. Leveringen/diensten uit landen buiten de EU  &  & \\
4b. Leveringen/diensten uit landen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 5: Voorbelasting, kleineondernemersregeling en eindtotaal }\\
 & Omzet  & Omzetbelasting \\
5a. Verschuldigde omzetbelasting (rubrieken 1t/m 4)  &  & 8'538 \\
5b. Voorbelasting  &  & 1'762 \\
\multicolumn{3}{l}{}\\
Eindtotaal  &  & 6'776 \\
\end{longtable}
Eindtotaal(accounting value): 6'775.68 \\
Rounding difference: -0.32 \\
\end{reportvalue}
\subsection{Second semester report}
\begin{reportvalue}{Second semester report}
Bedrijf XXX \\
1019, Amsterdam \\
NL123456789B01. \\
\begin{longtable}[l]{ l  l  l }
Omzetbelasting, Aangifteperiode: 01.07.2021/31.12.2021 \multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 1: Prestaties binnenland }\\
 & Omzet  & Omzetbelasting \\
1a. Leveringen/diensten belast met hoog tarief  & 41'562  & 8'728 \\
1b. Leveringen/diensten belast met laag tarief  & 1'541  & 138 \\
1c. Leveringen/diensten belast met overige tarieven, behalve 0\%  &  & \\
1d. Privégebruik  &  & \\
1e. Leveringen/diensten belast met 0\% of niet bij u belast  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 2: Verleggingsregelingen }\\
 & Omzet  & Omzetbelasting \\
2a. Leveringen/diensten waarbij de omzetbelasting naar u is verlegd  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 3: Prestaties naar of in het buitenland }\\
 & Omzet  & Omzetbelasting \\
3a. Leveringen naar landen buiten de EU (uitvoer)  &  & \\
3b. Leveringen naar of diensten in landen binnen de EU  &  & \\
3c. Installatie/ afstandsverkopen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 4: Prestaties vanuit het buitenland aan u verricht }\\
 & Omzet  & Omzetbelasting \\
4a. Leveringen/diensten uit landen buiten de EU  &  & \\
4b. Leveringen/diensten uit landen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 5: Voorbelasting, kleineondernemersregeling en eindtotaal }\\
 & Omzet  & Omzetbelasting \\
5a. Verschuldigde omzetbelasting (rubrieken 1t/m 4)  &  & 8'866 \\
5b. Voorbelasting  &  & 7 \\
\multicolumn{3}{l}{}\\
Eindtotaal  &  & 8'859 \\
\end{longtable}
Eindtotaal(accounting value): 8'859.01 \\
Rounding difference: 0.01 \\
\end{reportvalue}
\subsection{First quarter report}
\begin{reportvalue}{First quarter report}
Bedrijf XXX \\
1019, Amsterdam \\
NL123456789B01. \\
\begin{longtable}[l]{ l  l  l }
Omzetbelasting, Aangifteperiode: 01.01.2021/31.03.2021 \multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 1: Prestaties binnenland }\\
 & Omzet  & Omzetbelasting \\
1a. Leveringen/diensten belast met hoog tarief  & 20'764  & 4'360 \\
1b. Leveringen/diensten belast met laag tarief  & 917  & 82 \\
1c. Leveringen/diensten belast met overige tarieven, behalve 0\%  &  & \\
1d. Privégebruik  &  & \\
1e. Leveringen/diensten belast met 0\% of niet bij u belast  & 2'000  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 2: Verleggingsregelingen }\\
 & Omzet  & Omzetbelasting \\
2a. Leveringen/diensten waarbij de omzetbelasting naar u is verlegd  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 3: Prestaties naar of in het buitenland }\\
 & Omzet  & Omzetbelasting \\
3a. Leveringen naar landen buiten de EU (uitvoer)  &  & \\
3b. Leveringen naar of diensten in landen binnen de EU  &  & \\
3c. Installatie/ afstandsverkopen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 4: Prestaties vanuit het buitenland aan u verricht }\\
 & Omzet  & Omzetbelasting \\
4a. Leveringen/diensten uit landen buiten de EU  &  & \\
4b. Leveringen/diensten uit landen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 5: Voorbelasting, kleineondernemersregeling en eindtotaal }\\
 & Omzet  & Omzetbelasting \\
5a. Verschuldigde omzetbelasting (rubrieken 1t/m 4)  &  & 4'442 \\
5b. Voorbelasting  &  & 1'128 \\
\multicolumn{3}{l}{}\\
Eindtotaal  &  & 3'314 \\
\end{longtable}
Eindtotaal(accounting value): 3'314.84 \\
Rounding difference: 0.84 \\
\end{reportvalue}
\subsection{Second quarter report}
\begin{reportvalue}{Second quarter report}
Bedrijf XXX \\
1019, Amsterdam \\
NL123456789B01. \\
\begin{longtable}[l]{ l  l  l }
Omzetbelasting, Aangifteperiode: 01.04.2021/30.06.2021 \multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 1: Prestaties binnenland }\\
 & Omzet  & Omzetbelasting \\
1a. Leveringen/diensten belast met hoog tarief  & 19'109  & 4'012 \\
1b. Leveringen/diensten belast met laag tarief  & 917  & 82 \\
1c. Leveringen/diensten belast met overige tarieven, behalve 0\%  &  & \\
1d. Privégebruik  &  & \\
1e. Leveringen/diensten belast met 0\% of niet bij u belast  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 2: Verleggingsregelingen }\\
 & Omzet  & Omzetbelasting \\
2a. Leveringen/diensten waarbij de omzetbelasting naar u is verlegd  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 3: Prestaties naar of in het buitenland }\\
 & Omzet  & Omzetbelasting \\
3a. Leveringen naar landen buiten de EU (uitvoer)  &  & \\
3b. Leveringen naar of diensten in landen binnen de EU  &  & \\
3c. Installatie/ afstandsverkopen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 4: Prestaties vanuit het buitenland aan u verricht }\\
 & Omzet  & Omzetbelasting \\
4a. Leveringen/diensten uit landen buiten de EU  &  & \\
4b. Leveringen/diensten uit landen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 5: Voorbelasting, kleineondernemersregeling en eindtotaal }\\
 & Omzet  & Omzetbelasting \\
5a. Verschuldigde omzetbelasting (rubrieken 1t/m 4)  &  & 4'094 \\
5b. Voorbelasting  &  & 634 \\
\multicolumn{3}{l}{}\\
Eindtotaal  &  & 3'460 \\
\end{longtable}
Eindtotaal(accounting value): 3'460.84 \\
Rounding difference: 0.84 \\
\end{reportvalue}
\subsection{Third quarter report}
\begin{reportvalue}{Third quarter report}
Bedrijf XXX \\
1019, Amsterdam \\
NL123456789B01. \\
\begin{longtable}[l]{ l  l  l }
Omzetbelasting, Aangifteperiode: 01.07.2021/30.09.2021 \multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 1: Prestaties binnenland }\\
 & Omzet  & Omzetbelasting \\
1a. Leveringen/diensten belast met hoog tarief  & 19'947  & 4'188 \\
1b. Leveringen/diensten belast met laag tarief  & 871  & 78 \\
1c. Leveringen/diensten belast met overige tarieven, behalve 0\%  &  & \\
1d. Privégebruik  &  & \\
1e. Leveringen/diensten belast met 0\% of niet bij u belast  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 2: Verleggingsregelingen }\\
 & Omzet  & Omzetbelasting \\
2a. Leveringen/diensten waarbij de omzetbelasting naar u is verlegd  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 3: Prestaties naar of in het buitenland }\\
 & Omzet  & Omzetbelasting \\
3a. Leveringen naar landen buiten de EU (uitvoer)  &  & \\
3b. Leveringen naar of diensten in landen binnen de EU  &  & \\
3c. Installatie/ afstandsverkopen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 4: Prestaties vanuit het buitenland aan u verricht }\\
 & Omzet  & Omzetbelasting \\
4a. Leveringen/diensten uit landen buiten de EU  &  & \\
4b. Leveringen/diensten uit landen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 5: Voorbelasting, kleineondernemersregeling en eindtotaal }\\
 & Omzet  & Omzetbelasting \\
5a. Verschuldigde omzetbelasting (rubrieken 1t/m 4)  &  & 4'266 \\
5b. Voorbelasting  &  & 4 \\
\multicolumn{3}{l}{}\\
Eindtotaal  &  & 4'262 \\
\end{longtable}
Eindtotaal(accounting value): 4'263.16 \\
Rounding difference: 1.16 \\
\end{reportvalue}
\subsection{Fourth quarter report}
\begin{reportvalue}{Fourth quarter report}
Bedrijf XXX \\
1019, Amsterdam \\
NL123456789B01. \\
\begin{longtable}[l]{ l  l  l }
Omzetbelasting, Aangifteperiode: 01.10.2021/31.12.2021 \multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 1: Prestaties binnenland }\\
 & Omzet  & Omzetbelasting \\
1a. Leveringen/diensten belast met hoog tarief  & 21'615  & 4'539 \\
1b. Leveringen/diensten belast met laag tarief  & 669  & 60 \\
1c. Leveringen/diensten belast met overige tarieven, behalve 0\%  &  & \\
1d. Privégebruik  &  & \\
1e. Leveringen/diensten belast met 0\% of niet bij u belast  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 2: Verleggingsregelingen }\\
 & Omzet  & Omzetbelasting \\
2a. Leveringen/diensten waarbij de omzetbelasting naar u is verlegd  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 3: Prestaties naar of in het buitenland }\\
 & Omzet  & Omzetbelasting \\
3a. Leveringen naar landen buiten de EU (uitvoer)  &  & \\
3b. Leveringen naar of diensten in landen binnen de EU  &  & \\
3c. Installatie/ afstandsverkopen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 4: Prestaties vanuit het buitenland aan u verricht }\\
 & Omzet  & Omzetbelasting \\
4a. Leveringen/diensten uit landen buiten de EU  &  & \\
4b. Leveringen/diensten uit landen binnen de EU  &  & \\
\multicolumn{3}{l}{}\\
\multicolumn{3}{l}{Rubriek 5: Voorbelasting, kleineondernemersregeling en eindtotaal }\\
 & Omzet  & Omzetbelasting \\
5a. Verschuldigde omzetbelasting (rubrieken 1t/m 4)  &  & 4'599 \\
5b. Voorbelasting  &  & 3 \\
\multicolumn{3}{l}{}\\
Eindtotaal  &  & 4'596 \\
\end{longtable}
Eindtotaal(accounting value): 4'595.85 \\
Rounding difference: -0.15 \\
\end{reportvalue}
\keyvalue{Result}{Passed}
\end{test}
\end{testcase}
\end{document}
